owl_concepts:
    GeographicEntity:
        subClassOf: Thing
    NationalState:
        subClassOf: GeographicEntity
    FederalState:
        subClassOf: GeographicEntity
    District:
        subClassOf: GeographicEntity

    LocationType:
        subClassOf: Thing

    Facility:
        subClassOf: Thing

    TrainStation:
        subClassOf:
            - Facility
            - LocationType

    # <Public Management>

    Document:
        subClassOf: Thing

    DirectiveSourceDocument:
        # Quellendokument für Regeln
        subClassOf: Document

    # </Public Management>

    Directive:
        subClassOf: Thing

    # <Relation-Concepts>
    # These concepts model n-ary relations, see https://www.w3.org/TR/swbp-n-aryRelations/#pattern1

    _RelationConcept:
        subClassOf: Thing

    _DocumentReference_RC:
        subClassOf: _RelationConcept
        # note: yamlpyowl will automatically create a role `_hasDocumentReference_RC`
        _associatedWithClasses:
            - Directive
        _associatedRoles:
            # key-value pairs (<role name>: <range type>)
            hasDocument: Document
            hasSection: str

    # </Relation-Concepts>

    Debug:
        subClassOf: Thing

#
# #############################################################################
#


owl_roles:
    hasPart:
        mapsFrom: GeographicEntity
        mapsTo: GeographicEntity
        properties:
              - TransitiveProperty
    isPartOf:
        mapsFrom: GeographicEntity
        mapsTo: GeographicEntity
        properties:
              - TransitiveProperty
        inverse_property: hasPart

    hasDirective:
        mapsFrom: GeographicEntity
        mapsTo: Directive

    appliesTo:
        mapsFrom: DirectiveSourceDocument
        mapsTo: GeographicEntity


    # <Relation-Concept-Roles>

    # will be created automatically

    # </Relation-Concept-Roles>

#
# #############################################################################
#

owl_individuals:
    leipzig:
        isA: District
    dresden:
        isA: District
    bautzen:
        isA: District
    zwickau:
        isA: District
    erlangen:
        isA: District
    munich:
        isA: District
        name: München
    regensburg:
        isA: District
    rosenheim:
        isA: District
    hof:
        isA: District
    passau:
        isA: District
        label: Kreisfreie Stadt Passau
    bamberg:
        isA: District
    # now federal states
    saxony:
        isA: FederalState
        hasPart:
            - leipzig
            - dresden
            - bautzen
            - zwickau
    bavaria:
        isA: FederalState
        hasPart:
            - erlangen
            - munich
            - regensburg
            - rosenheim
            - hof
            - passau
            - bamberg
    germany:
        isA: NationalState
        hasPart:
            - saxony
            - bavaria
        label:
            - Federal Republic of Germany
            - Bundesrepublik Deutschland
    #
    # source documents
    #

    law_book_of_germany:
        isA: DirectiveSourceDocument
        appliesTo:
            - germany

    law_book_of_saxony:
        isA: DirectiveSourceDocument
        appliesTo:
            - saxony

    law_book_of_bavaria:
        isA: DirectiveSourceDocument

    law_book_of_dresden:
        isA: DirectiveSourceDocument
        appliesTo:
            - dresden


    #
    # directives
    #
    dir_rule1:
        isA: Directive
        _hasDocumentReference_RC:
            hasDocument: law_book_of_germany
            hasSection: "§ 1.1"
    dir_rule2:
        isA: Directive
        _hasDocumentReference_RC:
            hasDocument: law_book_of_saxony
            hasSection: "§ 1.5"
    dir_rule3:
        isA: Directive
        _hasDocumentReference_RC:
            hasDocument: law_book_of_dresden
            hasSection: "§ 42"

#
# #############################################################################
#

swrl_rules:
    top_down:
        # Meaning: A directive which is valid in a GeograhicEntity is valid in all its parts as well
        isA: Imp
        rule_src: "GeographicEntity(?ge), hasPart(?ge, ?p), hasDirective(?ge, ?r) -> hasDirective(?p, ?r)"
    applicable_doc:
        # Meaning: All directives which reference a DirectiveSourceDocument should apply in the GeographicEntities
        # in which the document applies
        isA: Imp
        rule_src: >
                    Directive(?d), hasDocumentReference_RC(?d, ?dr), hasDocument(?dr, ?doc),
                    appliesTo(?doc, ?ge) -> hasDirective(?ge, ?d)
# end of static part of knowledge
# the data below describes statements which might be subject to change

#owl_stipulations:
#  hasDirective:
#    germany:
#      - dir_rule1
#    saxony:
#      - dir_rule2
#    dresden:
#      - dir_rule3

